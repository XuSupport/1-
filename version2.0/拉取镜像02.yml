app:
  description: æ‹‰å–é•œåƒ
  icon: ğŸ¤–
  icon_background: '#FFEAD5'
  mode: workflow
  name: æ‹‰å–é•œåƒ02
  use_icon_as_answer_icon: false
dependencies:
- current_identifier: null
  type: marketplace
  value:
    marketplace_plugin_unique_identifier: langgenius/deepseek:0.0.6@dd589dc093c8084925858034ab5ec1fdf0d33819f43226c2f8c4a749a9acbbb2
kind: app
version: 0.3.0
workflow:
  conversation_variables: []
  environment_variables:
  - description: ''
    id: 29b96ca8-f2c5-4202-a88f-65fb8c9b708a
    name: API_KEY
    selector:
    - env
    - API_KEY
    value: e62a9b0d239d3f6fe2f203c5bede453c
    value_type: string
  features:
    file_upload:
      allowed_file_extensions:
      - .JPG
      - .JPEG
      - .PNG
      - .GIF
      - .WEBP
      - .SVG
      allowed_file_types:
      - image
      allowed_file_upload_methods:
      - local_file
      - remote_url
      enabled: false
      fileUploadConfig:
        audio_file_size_limit: 50
        batch_count_limit: 5
        file_size_limit: 15
        image_file_size_limit: 10
        video_file_size_limit: 100
        workflow_file_upload_limit: 10
      image:
        enabled: false
        number_limits: 3
        transfer_methods:
        - local_file
        - remote_url
      number_limits: 3
    opening_statement: ''
    retriever_resource:
      enabled: true
    sensitive_word_avoidance:
      enabled: false
    speech_to_text:
      enabled: false
    suggested_questions: []
    suggested_questions_after_answer:
      enabled: false
    text_to_speech:
      enabled: false
      language: ''
      voice: ''
  graph:
    edges:
    - data:
        isInIteration: false
        isInLoop: false
        sourceType: start
        targetType: llm
      id: 1751958143587-source-1751958163793-target
      source: '1751958143587'
      sourceHandle: source
      target: '1751958163793'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInIteration: false
        isInLoop: false
        sourceType: llm
        targetType: llm
      id: 1751958163793-source-1751958199932-target
      source: '1751958163793'
      sourceHandle: source
      target: '1751958199932'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInIteration: false
        isInLoop: false
        sourceType: llm
        targetType: code
      id: 1751958199932-source-1751958245074-target
      source: '1751958199932'
      sourceHandle: source
      target: '1751958245074'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInIteration: false
        isInLoop: false
        sourceType: code
        targetType: code
      id: 1751958245074-source-1751958272179-target
      source: '1751958245074'
      sourceHandle: source
      target: '1751958272179'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInIteration: false
        isInLoop: false
        sourceType: code
        targetType: end
      id: 1751958272179-source-1751958296012-target
      source: '1751958272179'
      sourceHandle: source
      target: '1751958296012'
      targetHandle: target
      type: custom
      zIndex: 0
    nodes:
    - data:
        desc: ''
        selected: false
        title: å¼€å§‹
        type: start
        variables:
        - label: input
          max_length: 256
          options: []
          required: true
          type: text-input
          variable: input
      height: 90
      id: '1751958143587'
      position:
        x: 78.85943760749768
        y: 282
      positionAbsolute:
        x: 78.85943760749768
        y: 282
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    - data:
        context:
          enabled: true
          variable_selector:
          - '1751958143587'
          - input
        desc: ''
        model:
          completion_params:
            temperature: 0.7
          mode: chat
          name: deepseek-chat
          provider: langgenius/deepseek/deepseek
        prompt_template:
        - id: 0b36e3d9-5dff-4fca-9359-f462778f8bce
          role: system
          text: "ä½ æ˜¯ä¸€ä¸ªä¸“ä¸šçš„æ¼æ´é¶åœºéƒ¨ç½²åŠ©æ‰‹ï¼Œé€šè¿‡APIæ¥å£è‡ªåŠ¨åŒ–æ­å»ºå®‰å…¨ç ”ç©¶ç¯å¢ƒã€‚å½“ç”¨æˆ·è¯·æ±‚éƒ¨ç½²ç‰¹å®šæ¼æ´é¶åœºæ—¶{{#1751958143587.input#}}ï¼Œä½ éœ€è¦ç”Ÿæˆå®Œæ•´çš„APIè°ƒç”¨æ‰§è¡Œè®¡åˆ’ã€‚\n\
            \n## ä½ çš„ä¸»è¦èŒè´£ï¼š\n1. ç†è§£ç”¨æˆ·æƒ³è¦éƒ¨ç½²çš„æ¼æ´é¶åœºç±»å‹\n2. ç”Ÿæˆå®Œæ•´çš„APIè°ƒç”¨åºåˆ—ï¼ŒåŒ…æ‹¬æ‹‰å–é•œåƒå’Œå¯åŠ¨å®¹å™¨\n3. æä¾›ç›¸åº”çš„é¶åœºè®¿é—®ä¿¡æ¯å’Œä½¿ç”¨æŒ‡å—\n\
            \n## è¾“å‡ºæ ¼å¼ï¼š\nä½ å¿…é¡»å§‹ç»ˆè¾“å‡ºä¸€ä¸ªæ ¼å¼å¦‚ä¸‹çš„JSONå¯¹è±¡ï¼š\n```json\n{\n  \"plan\": \"éƒ¨ç½²æ¼æ´é¶åœºçš„æ‰§è¡Œè®¡åˆ’ç®€è¿°\"\
            ,\n  \"target_name\": \"é¶åœºåç§°\",\n  \"target_type\": \"æ¼æ´ç±»å‹ï¼Œå¦‚SQLæ³¨å…¥ã€XSSã€RCEç­‰\"\
            ,\n  \"steps\": [\n    {\n      \"description\": \"æ‹‰å–é¶åœºé•œåƒ\",\n      \"\
            api_endpoint\": \"/docker/pull\",\n      \"method\": \"POST\",\n     \
            \ \"payload\": {\n        \"image\": \"é¶åœºé•œåƒå:æ ‡ç­¾\"\n      }\n    },\n \
            \   {\n      \"description\": \"å¯åŠ¨é¶åœºå®¹å™¨\",\n      \"api_endpoint\": \"\
            /docker/run\",\n      \"method\": \"POST\",\n      \"payload\": {\n  \
            \      \"image\": \"é¶åœºé•œåƒå:æ ‡ç­¾\",\n        \"name\": \"é¶åœºå®¹å™¨å\",\n      \
            \  \"ports\": [\"å®¿ä¸»ç«¯å£:å®¹å™¨ç«¯å£\"]\n      }\n    }\n  ],\n  \"access_info\"\
            : {\n    \"url\": \"è®¿é—®é¶åœºçš„URL\",\n    \"default_credentials\": {\n    \
            \  \"username\": \"é»˜è®¤ç”¨æˆ·å(å¦‚æœæœ‰)\",\n      \"password\": \"é»˜è®¤å¯†ç (å¦‚æœæœ‰)\"\n\
            \    }\n  },\n  \"target_description\": \"é¶åœºç¯å¢ƒç®€è¦æè¿°åŠåŒ…å«çš„æ¼æ´è¯´æ˜\"\n}\n```\n\
            \n## å¸¸è§æ¼æ´é¶åœºç±»å‹ï¼š\n\n1. SQLæ³¨å…¥é¶åœºï¼š\n   - DVWA (Damn Vulnerable Web App)\n \
            \  - WebGoat\n   - SQLi-labs\n   - SQLIé¶åœº\n\n2. XSSé¶åœºï¼š\n   - XSSLabs\n\
            \   - DVWA (åŒ…å«XSSæ¨¡å—)\n   - XVWA\n\n3. æ–‡ä»¶ä¸Šä¼ æ¼æ´ï¼š\n   - upload-labs\n   -\
            \ DVWA (åŒ…å«ä¸Šä¼ æ¨¡å—)\n\n4. RCE(è¿œç¨‹ä»£ç æ‰§è¡Œ)é¶åœºï¼š\n   - vulhubç³»åˆ—\n   - DVWA (å‘½ä»¤æ³¨å…¥æ¨¡å—)\n\
            \n5. ç»¼åˆé¶åœºï¼š\n   - DVWA\n   - WebGoat\n   - OWASP Juice Shop\n   - bWAPP\n\
            \   - Vulhub\n\n## é‡è¦æç¤ºï¼š\n- ports å­—æ®µä¸­åº”æ ¹æ®ä»¥ä¸‹ä¸¤ç‚¹ç¡®å®šç«¯å£æ˜ å°„ï¼š\nç”¨æˆ·æ˜¯å¦æŒ‡å®šç«¯å£ï¼šè‹¥æŒ‡å®šï¼ŒæŒ‰ç”¨æˆ·è¦æ±‚å¼€æ”¾ï¼›\n\
            é•œåƒé»˜è®¤ç«¯å£ï¼šè‹¥ç”¨æˆ·æœªæŒ‡å®šï¼Œåˆ™ä¼˜å…ˆé€‰ç”¨é•œåƒçš„æ ‡å‡†é»˜è®¤ç«¯å£ï¼Œå¦‚ï¼š\nMySQL â†’ 3306\nDVWA â†’ 80 æˆ– 8080\nRedis\
            \ â†’ 6379\nWebGoat â†’ 8080\nJuice Shop â†’ 3000\nå¦‚æœé¶åœºè¿è¡Œå¤šä¸ªæœåŠ¡ç»„ä»¶ï¼Œéœ€ä¸ºæ¯ä¸ªæœåŠ¡åˆ†åˆ«å®šä¹‰ç«¯å£æ˜ å°„é¡¹ï¼ˆå¦‚å¤šä¸ª\
            \ \"å®¿ä¸»ç«¯å£:å®¹å™¨ç«¯å£\" æ˜ å°„ï¼‰ã€‚\n- å¯¹äºéœ€è¦ç¯å¢ƒå˜é‡çš„é¶åœºï¼Œç¡®ä¿åœ¨payloadä¸­è®¾ç½®æ­£ç¡®çš„ç¯å¢ƒå˜é‡\n- æä¾›é¶åœºçš„é»˜è®¤è®¿é—®å‡­æ®(å¦‚æœæœ‰)\n\
            - ç®€è¦æè¿°é¶åœºä¸­åŒ…å«çš„æ¼æ´ç±»å‹å’Œéš¾åº¦çº§åˆ«\n- å¯¹äºå¯èƒ½éœ€è¦æŒä¹…åŒ–æ•°æ®çš„é¶åœºï¼Œè€ƒè™‘æ·»åŠ å·æŒ‚è½½é…ç½®\n\nå¯¹äºç”¨æˆ·çš„æ¯ä¸ªè¯·æ±‚ï¼Œä½ åº”è¯¥è¯¦ç»†åˆ†æéœ€æ±‚ï¼Œå¹¶ç”Ÿæˆé€‚åˆè¯¥ç‰¹å®šé¶åœºçš„å®Œæ•´éƒ¨ç½²è®¡åˆ’ã€‚ä½ çš„å›ç­”åº”è¯¥åªåŒ…å«ä¸€ä¸ªæ ¼å¼æ­£ç¡®çš„JSONå¯¹è±¡ï¼Œä¸è¦æ·»åŠ ä»»ä½•é¢å¤–çš„è§£é‡Šæˆ–è¯´æ˜ã€‚\n\
            ```\n"
        selected: false
        title: é•œåƒé€‰æ‹©
        type: llm
        variables: []
        vision:
          enabled: false
      height: 90
      id: '1751958163793'
      position:
        x: 384
        y: 282
      positionAbsolute:
        x: 384
        y: 282
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    - data:
        context:
          enabled: true
          variable_selector:
          - '1751958163793'
          - text
        desc: ''
        model:
          completion_params:
            temperature: 0.7
          mode: chat
          name: deepseek-chat
          provider: langgenius/deepseek/deepseek
        prompt_template:
        - id: 195b3768-84dd-4ebc-8d13-3db1a186bd8f
          role: system
          text: "ä½ æ˜¯ä¸€ä¸ªæ¼æ´é¶åœºå¿«é€Ÿéƒ¨ç½²åŠ©æ‰‹ã€‚æˆ‘ä¼šæä¾›ä¸€ä¸ªåŒ…å«é¶åœºä¿¡æ¯çš„JSONå¯¹è±¡{{#1751958163793.text#}}ï¼Œä½ éœ€è¦å°†å…¶è½¬æ¢ä¸ºç®€æ´çš„æ‰§è¡Œå‘½ä»¤ã€‚è¯·åªç”Ÿæˆé’ˆå¯¹Dockeré•œåƒæ‹‰å–å’Œå®¹å™¨å¯åŠ¨çš„å‘½ä»¤ï¼Œä½¿ç”¨ä»¥ä¸‹æ ¼å¼ï¼š\n\
            æ‹‰å–é¶åœºé•œåƒï¼š\nBash\ncurl -X POST \"http://172.17.0.1:8005/docker/pull\" -H\
            \ \"Content-Type: application/json\" -d '{\"image\":\"é¶åœºé•œåƒå:æ ‡ç­¾\"}'\n\n\
            å¯åŠ¨é¶åœºå®¹å™¨ï¼š\nBash\ncurl -X POST \"http://172.17.0.1:8005/docker/run\" -H \"\
            Content-Type: application/json\" -d '{\"image\":\"é¶åœºé•œåƒå:æ ‡ç­¾\",\"name\"\
            :\"å®¹å™¨å\",\"ports\":[\"å®¿ä¸»æœºç«¯å£:å®¹å™¨ç«¯å£\"] **,\"env_vars\":[\"ç¯å¢ƒå˜é‡å1=ç¯å¢ƒå˜é‡å€¼1\"\
            , \"ç¯å¢ƒå˜é‡å2=ç¯å¢ƒå˜é‡å€¼2\"]**}'\n\nè¾“å…¥JSONç¤ºä¾‹:\nJSON\n{\n  \"image\": \"æ¼æ´é¶åœºé•œåƒ\"\
            ,\n  \"container_name\": \"å®¹å™¨åç§°\",\n  \"port_mapping\": \"8080:80\",\n\
            \  \"access_url\": \"è®¿é—®URL\",\n  \"username\": \"é»˜è®¤ç”¨æˆ·å\",\n  \"password\"\
            : \"é»˜è®¤å¯†ç \",\n  **\"env_vars\": [\"MYSQL_ROOT_PASSWORD=vulnlab\", \"ANOTHER_ENV=value\"\
            ]** // å¼ºè°ƒ env_vars æ˜¯å­—ç¬¦ä¸²åˆ—è¡¨\n}\n\né‡è¦æç¤ºï¼š\n\"ports\" å­—æ®µåªå…è®¸åŒ…å«ä¸€ä¸ªç«¯å£æ˜ å°„å­—ç¬¦ä¸²ã€‚ä½ éœ€è¦æ ¹æ®æä¾›çš„\
            \ image (é¶åœºé•œåƒ) çš„å¸¸è§æœåŠ¡ç±»å‹å’Œå…¶é»˜è®¤ç«¯å£ï¼Œæ™ºèƒ½åœ°æ¨èå¹¶é€‰æ‹©ä¸€ä¸ªæœ€å¸¸ç”¨çš„å®¿ä¸»æœºç«¯å£è¿›è¡Œæ˜ å°„ã€‚\nå¯¹äºéœ€è¦è®¾ç½®ç¯å¢ƒå˜é‡çš„é•œåƒï¼ˆä¾‹å¦‚\
            \ MySQL éœ€è¦ MYSQL_ROOT_PASSWORDï¼‰ï¼Œè¯·ç¡®ä¿åœ¨ payload ä¸­åŒ…å« env_vars å­—æ®µã€‚\nç‰¹åˆ«å¼ºè°ƒï¼šenv_vars\
            \ å­—æ®µçš„å€¼å¿…é¡»æ˜¯ä¸€ä¸ªå­—ç¬¦ä¸²åˆ—è¡¨ï¼ˆJSON æ•°ç»„ï¼‰ï¼Œä¸”åˆ—è¡¨ä¸­çš„æ¯ä¸ªå…ƒç´ éƒ½å¿…é¡»æ˜¯ä¸€ä¸ªå½¢å¦‚ \"KEY=VALUE\" çš„å®Œæ•´å­—ç¬¦ä¸²ã€‚\nä¾‹å¦‚ï¼š\n\
            å¯¹äº Web ç±»é¶åœºï¼ˆå¦‚ DVWA, Juice Shop, Mutillidae ç­‰ï¼‰ï¼Œå®¹å™¨å†…éƒ¨é€šå¸¸æ˜¯ 80 ç«¯å£ï¼Œè¯·æ¨èæ˜ å°„åˆ°å®¿ä¸»æœºçš„\
            \ 8080 æˆ– 80 ç«¯å£ã€‚\nå¯¹äº æ•°æ®åº“ç±»é¶åœºï¼ˆå¦‚ MySQL, PostgreSQLï¼‰ï¼Œå®¹å™¨å†…éƒ¨é€šå¸¸æ˜¯ 3306 æˆ– 5432 ç«¯å£ï¼Œè¯·æ¨èæ˜ å°„åˆ°å®¿ä¸»æœºå¯¹åº”çš„\
            \ 3306 æˆ– 5432 ç«¯å£ï¼Œå¹¶åŒ…å«å¿…è¦çš„ env_vars (ä¾‹å¦‚ï¼š\"env_vars\": [\"MYSQL_ROOT_PASSWORD=å¯†ç \"\
            ])ã€‚\nå¯¹äº SSH æœåŠ¡ï¼ˆå¦‚ Metasploitableï¼‰ï¼Œå®¹å™¨å†…éƒ¨é€šå¸¸æ˜¯ 22 ç«¯å£ï¼Œè¯·æ¨èæ˜ å°„åˆ°å®¿ä¸»æœºçš„ 2222 ç«¯å£ã€‚\nè¯·åªè¾“å‡ºå¯æ‰§è¡Œçš„å‘½ä»¤å†…å®¹ï¼Œä¸éœ€è¦ä»»ä½•é¢å¤–è§£é‡Šã€‚"
        selected: false
        title: CURLæ·±åŒ–
        type: llm
        variables: []
        vision:
          enabled: false
      height: 90
      id: '1751958199932'
      position:
        x: 688
        y: 282
      positionAbsolute:
        x: 688
        y: 282
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    - data:
        code: "import re\n\ndef main(input_str: str ) -> dict:\n    \"\"\"\n    è§£æè¾“å…¥ä¸­çš„\
          \ curl å‘½ä»¤ï¼Œåªæå–æ‹‰å–é•œåƒ (pull) çš„å‘½ä»¤ã€‚\n\n    å‚æ•°:\n      input_str: åŒ…å« curl å‘½ä»¤çš„å­—ç¬¦ä¸²ï¼Œé¢„æœŸå…¶ä¸­åŒ…å«ä¸€ä¸ªæ‹‰å–é•œåƒçš„å‘½ä»¤ã€‚\n\
          \n    è¿”å›:\n      dict: åŒ…å« 'result' å­—æ®µçš„å­—å…¸ï¼Œå€¼ä¸ºæå–åˆ°çš„æ‹‰å–å‘½ä»¤å­—ç¬¦ä¸²æˆ–é”™è¯¯/æç¤ºä¿¡æ¯ã€‚\n    \"\"\
          \"\n    # æå– curl å‘½ä»¤çš„é€šç”¨æ¨¡å¼\n    curl_pattern = r'curl\\s+-X\\s+POST\\s+\"\
          ([^\"]+)\"\\s+-H\\s+\"[^\"]+\"\\s+-d\\s+\\'([^\\']+)\\''\n    \n    # åœ¨è¾“å…¥å­—ç¬¦ä¸²ä¸­æŸ¥æ‰¾æ‰€æœ‰åŒ¹é…çš„\
          \ curl å‘½ä»¤\n    curl_commands = re.findall(curl_pattern, input_str)\n   \
          \ \n    # åˆå§‹åŒ–æ‹‰å–å‘½ä»¤\n    pull_command = \"\"\n    \n    # éå†æ‰¾åˆ°çš„ curl å‘½ä»¤\n\
          \    for url, data in curl_commands:\n        # æ›¿æ¢ä¸»æœºåœ°å€ä¸º Docker ä¸»æœºï¼ˆå¦‚æœéœ€è¦ï¼Œæ ¹æ®å®é™…æƒ…å†µè°ƒæ•´ï¼‰\n\
          \        # è¿™é‡Œå‡è®¾ç›®æ ‡ä¸»æœºæ˜¯ 172.17.0.1ï¼Œå¦‚æœä½ çš„æœåŠ¡åœ¨ 127.0.0.1ï¼Œåˆ™æ— éœ€æ›¿æ¢\n        # url =\
          \ url.replace(\"127.0.0.1\", \"172.17.0.1\") # æ ¹æ®ä½ çš„å®é™…éƒ¨ç½²æƒ…å†µå†³å®šæ˜¯å¦éœ€è¦è¿™è¡Œ\n\n  \
          \      # æ„é€ è§„èŒƒåŒ–çš„å‘½ä»¤å­—ç¬¦ä¸²\n        formatted_command = f\"curl -X POST \\\"{url}\\\
          \" -H \\\"Content-Type: application/json\\\" -d '{data}'\"\n        \n \
          \       # æ ¹æ® URL è·¯å¾„åˆ†ç±»ï¼Œåªå…³æ³¨ /docker/pull\n        if \"/docker/pull\" in url:\n\
          \            pull_command = formatted_command\n            break # æ‰¾åˆ°æ‹‰å–å‘½ä»¤åå³å¯åœæ­¢ï¼Œå› ä¸ºæˆ‘ä»¬åªéœ€è¦ä¸€ä¸ª\n\
          \n    # --- å…³é”®ä¿®æ”¹éƒ¨åˆ†ï¼šç¡®ä¿è¿”å›çš„å­—å…¸åŒ…å« \"result\" é”® ---\n    if pull_command:\n  \
          \      # å¦‚æœæ‰¾åˆ°äº†æ‹‰å–å‘½ä»¤ï¼Œè¿”å›æˆåŠŸä¿¡æ¯å’Œå‘½ä»¤\n        return {\n            \"result\":\
          \ f\"```{pull_command}\\n```\"\n        }\n    else:\n        # å¦‚æœæ²¡æœ‰æ‰¾åˆ°æ‹‰å–å‘½ä»¤ï¼Œè¿”å›æç¤ºä¿¡æ¯\n\
          \        return {\n            \"result\": \"â„¹ï¸ æœªåœ¨è¾“å…¥ä¸­æ‰¾åˆ°æœ‰æ•ˆçš„ Docker é•œåƒæ‹‰å–å‘½ä»¤ã€‚\"\
          \n        }\n\n"
        code_language: python3
        desc: ''
        outputs:
          result:
            children: null
            type: string
        selected: false
        title: CURLæ‹†åˆ†
        type: code
        variables:
        - value_selector:
          - '1751958199932'
          - text
          variable: input_str
      height: 54
      id: '1751958245074'
      position:
        x: 989.4859284588479
        y: 282
      positionAbsolute:
        x: 989.4859284588479
        y: 282
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    - data:
        code: "def main(input: str, API_KEY: str) -> dict:\n    \"\"\"\n    ä½¿ç”¨Python\
          \ requestsåº“ç›´æ¥å‘é€Dockeré•œåƒæ‹‰å–è¯·æ±‚\n    \n    å‚æ•°:\n      input: åŒ…å«curlå‘½ä»¤çš„å­—ç¬¦ä¸²\n\
          \      API_KEY: APIå¯†é’¥ï¼Œç”¨äºè®¤è¯APIè¯·æ±‚\n    \n    è¿”å›:\n      åŒ…å«æ‰§è¡Œç»“æœçš„å­—å…¸\n    \"\"\
          \"\n    import requests\n    import json\n    import re\n    \n    result_lines\
          \ = []\n    \n    try:\n        # æå–Docker APIä¸»æœºåœ°å€\n        url_match =\
          \ re.search(r'http[^\"]+/docker/pull', input)\n        if url_match:\n \
          \           url = url_match.group(0)\n        else:\n            url = \"\
          http://172.17.0.1:8005/docker/pull\"\n            \n        result_lines.append(f\"\
          Docker APIåœ°å€: {url}\")\n        \n        # æå–JSONæ•°æ®éƒ¨åˆ†\n        data_match\
          \ = re.search(r'-d\\s+\\'({[^\\']+})\\'', input)\n        if not data_match:\n\
          \            data_match = re.search(r'-d\\s+\\\"({[^\\\"]+})\\\"', input)\n\
          \            if not data_match:\n                return {\"result\": \"\
          é”™è¯¯: æ— æ³•ä»è¾“å…¥ä¸­æå–JSONæ•°æ®\"}\n            \n        data_str = data_match.group(1)\n\
          \        \n        # è§£æJSONæ•°æ®ï¼Œå¤„ç†è½¬ä¹‰å­—ç¬¦\n        try:\n            # å°†JSONå­—ç¬¦ä¸²ä¸­çš„è½¬ä¹‰å­—ç¬¦å¤„ç†æ‰\n\
          \            data_str = data_str.replace('\\\\\\\"', '\"').replace('\\\\\
          \"', '\"')\n            data_json = json.loads(data_str)\n        except\
          \ json.JSONDecodeError:\n            return {\"result\": f\"é”™è¯¯: JSONè§£æå¤±è´¥\
          \ - {data_str}\"}\n        \n        # æå–é•œåƒåç§°\n        image_name = data_json.get(\"\
          image\", \"æœªæŒ‡å®šé•œåƒ\")\n        \n        result_lines.append(f\"å‡†å¤‡æ‹‰å–Dockeré•œåƒ:\
          \ {image_name}\")\n        \n        # ä½¿ç”¨requestsåº“ç›´æ¥å‘é€è¯·æ±‚ï¼Œæ·»åŠ APIå¯†é’¥è®¤è¯\n   \
          \     headers = {\n            \"Content-Type\": \"application/json\",\n\
          \            \"X-API-Key\": API_KEY\n        }\n        \n        result_lines.append(\"\
          \\nå‘é€æ‹‰å–è¯·æ±‚ä¸­...\")\n        result_lines.append(\"(å¤§å‹é•œåƒå¯èƒ½éœ€è¦è¾ƒé•¿æ—¶é—´ï¼Œè¯·è€å¿ƒç­‰å¾…)\")\n\
          \        \n        # æ‹‰å–é•œåƒéœ€è¦è¾ƒé•¿æ—¶é—´ï¼Œè®¾ç½®æ›´é•¿çš„è¶…æ—¶\n        response = requests.post(url,\
          \ headers=headers, json=data_json, timeout=120)\n        \n        # å¤„ç†å“åº”\n\
          \        if response.status_code >= 200 and response.status_code < 300:\n\
          \            try:\n                response_data = response.json()\n   \
          \             result_lines.append(f\"âœ… é•œåƒæ‹‰å–è¯·æ±‚æˆåŠŸ!\")\n                \n\
          \                # æ£€æŸ¥è¯¦ç»†ä¿¡æ¯ä¸­æ˜¯å¦åŒ…å«æˆåŠŸæ¶ˆæ¯\n                message = response_data.get(\"\
          message\", \"\")\n                if message:\n                    result_lines.append(f\"\
          æœåŠ¡å™¨å“åº”: {message}\")\n                \n                result_lines.append(f\"\
          \\né•œåƒ {image_name} æ‹‰å–å·²å¼€å§‹\")\n                result_lines.append(\"Dockeræ‹‰å–è¿‡ç¨‹å°†åœ¨åå°ç»§ç»­ï¼Œå³ä½¿APIè¯·æ±‚å·²å®Œæˆ\"\
          )\n                result_lines.append(\"å¤§å‹é•œåƒå¯èƒ½éœ€è¦å‡ åˆ†é’Ÿæ—¶é—´ä¸‹è½½\")\n          \
          \      \n            except json.JSONDecodeError:\n                result_lines.append(f\"\
          è¯·æ±‚å·²æ¥å—ï¼Œä½†æ— æ³•è§£æå“åº”: {response.text}\")\n        else:\n            result_lines.append(f\"\
          âŒ æ‹‰å–è¯·æ±‚å¤±è´¥ (çŠ¶æ€ç : {response.status_code})\")\n            result_lines.append(f\"\
          é”™è¯¯ä¿¡æ¯: {response.text}\")\n    \n    except requests.exceptions.Timeout:\n\
          \        result_lines.append(\"âš ï¸ è¯·æ±‚è¶…æ—¶ï¼Œä½†é•œåƒæ‹‰å–å¯èƒ½ä»åœ¨åå°è¿›è¡Œä¸­\")\n        result_lines.append(\"\
          Dockeræ‹‰å–å¤§å‹é•œåƒé€šå¸¸éœ€è¦è¾ƒé•¿æ—¶é—´\")\n        result_lines.append(\"å³ä½¿APIè¯·æ±‚è¶…æ—¶ï¼ŒDockerå®ˆæŠ¤è¿›ç¨‹ä»ä¼šç»§ç»­ä¸‹è½½\"\
          )\n        result_lines.append(\"\\nå¯ä»¥ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤æ£€æŸ¥æ‹‰å–çŠ¶æ€:\")\n        result_lines.append(f\"\
          docker image ls | grep {image_name if 'image_name' in locals() else ''}\"\
          )\n    except requests.exceptions.ConnectionError:\n        result_lines.append(\"\
          âŒ æ— æ³•è¿æ¥åˆ°Docker APIæœåŠ¡\")\n        result_lines.append(\"è¯·ç¡®ä¿Docker APIæœåŠ¡æ­£åœ¨è¿è¡Œï¼Œä¸”APIæœåŠ¡åœ°å€å¯è®¿é—®\"\
          )\n    except Exception as e:\n        result_lines.append(f\"âŒ æ‰§è¡Œé”™è¯¯: {str(e)}\"\
          )\n    \n    # è¿”å›æ‰§è¡Œç»“æœå’Œåç»­æ­¥éª¤æç¤º\n    result_lines.append(\"\\næ‹‰å–å®Œæˆåï¼Œè¯·ä½¿ç”¨å®¹å™¨è¿è¡Œå·¥å…·å¯åŠ¨å®¹å™¨\"\
          )\n    \n    return {\n        \"result\": \"\\n\".join(result_lines)\n\
          \    }"
        code_language: python3
        desc: ''
        outputs:
          result:
            children: null
            type: string
        selected: true
        title: æ‹‰å–é•œåƒ
        type: code
        variables:
        - value_selector:
          - '1751958245074'
          - result
          variable: input
        - value_selector:
          - env
          - API_KEY
          variable: API_KEY
      height: 54
      id: '1751958272179'
      position:
        x: 1295.9999999999998
        y: 282
      positionAbsolute:
        x: 1295.9999999999998
        y: 282
      selected: true
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    - data:
        desc: ''
        outputs:
        - value_selector:
          - '1751958272179'
          - result
          variable: result
        selected: false
        title: ç»“æŸ
        type: end
      height: 90
      id: '1751958296012'
      position:
        x: 1600
        y: 282
      positionAbsolute:
        x: 1600
        y: 282
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    viewport:
      x: -204.33631129272317
      y: 244.12738230682186
      zoom: 0.7280621326643683
